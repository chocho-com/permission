webpackJsonp([6],{NonO:function(e,o){},szPp:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var l=t("Xxa5"),r=t.n(l),m=t("Dd8w"),u=t.n(m),a=t("exGp"),n=t.n(a),i=t("DIwM"),d={props:{visible:{type:Boolean,default:!1},auth:Array,title:{type:String,default:"添加模块"},propForm:{type:Object,default:null}},name:"addModuleDialog",data:function(){return{rules:i.default,form:{modulename:"",moduleurl:"",moduleicon:"",moduleparentid:"",modulestatus:"",moduledescription:"",moduleremarks:"",name:"",componet:"",redirect:"",moduleid:""},newArray:[]}},methods:{onCloseDialog:function(){this.$emit("closeDialog")},onSubmit:function(){var e=this;return n()(r.a.mark(function o(){var t;return r.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,t={modulename:e.form.modulename||"",moduleurl:e.form.moduleurl||"",parentmoduleid:e.form.moduleparentid||"",modulestatus:e.form.modulestatus||"",modulecomponet:e.form.component||"",name:e.form.modulename||"",redirect:e.form.redirect||""},!e.propForm){o.next=8;break}return o.next=5,e.$api.put("http://47.107.120.160:8081//module",u()({},t,{moduleid:e.form.moduleid}),{autoAlert:!1,returnAll:!0});case 5:o.t0=o.sent,o.next=11;break;case 8:return o.next=10,e.$api.post("http://47.107.120.160:8081//module",t,{autoAlert:!1,returnAll:!0});case 10:o.t0=o.sent;case 11:if("200"!==o.t0.code){o.next=17;break}e.$emit("refreshTable",e.form.moduleparentid),e.onCloseDialog(),o.next=18;break;case 17:throw"fail";case 18:o.next=23;break;case 20:o.prev=20,o.t1=o.catch(0),console.log(o.t1);case 23:case"end":return o.stop()}},o,e,[[0,20]])}))()}},watch:{propForm:function(e){e&&(this.form={redirect:e.redirect,component:e.modulecomponet,moduleid:e.moduleid,modulename:e.modulename,moduleurl:e.moduleurl,moduleicon:e.moduleicon,moduleparentid:e.parentmoduleid,modulestatus:e.modulestatus,moduleordernum:e.moduleordernum})},visible:function(e){var o=this;e&&setTimeout(function(){o.$refs.moduleForm.resetFields()},0),this.propForm||(this.form={modulename:"",moduleurl:"",moduleicon:"",moduleparentid:"",modulestatus:"1",moduledescription:"",moduleremarks:"",name:"",hidden:"",componet:"",redirect:"",breadcrumb:"",props:"",activemenu:""})}}},s={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return e.visible?t("div",[t("el-dialog",{attrs:{"before-close":e.onCloseDialog,title:e.title,visible:e.visible},on:{"update:visible":function(o){e.visible=o}}},[t("el-form",{ref:"moduleForm",attrs:{rules:e.rules.sysModule,"label-width":"120px",model:e.form}},[t("el-form-item",{attrs:{label:"模块名称",prop:"modulename"}},[t("el-input",{model:{value:e.form.modulename,callback:function(o){e.$set(e.form,"modulename",o)},expression:"form.modulename"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"path"}},[t("el-input",{model:{value:e.form.moduleurl,callback:function(o){e.$set(e.form,"moduleurl",o)},expression:"form.moduleurl"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"父级模块",prop:"moduleparentid"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.form.moduleparentid,callback:function(o){e.$set(e.form,"moduleparentid",o)},expression:"form.moduleparentid"}},[t("el-option",{staticStyle:{color:"#67C23A"},attrs:{label:"主模块",value:"0"}}),e._v(" "),e._l(e.auth,function(e){return t("el-option",{key:e.moduleid,attrs:{label:e.modulename,value:e.moduleid}})})],2)],1),e._v(" "),t("el-form-item",{attrs:{label:"redirect"}},[t("el-input",{model:{value:e.form.redirect,callback:function(o){e.$set(e.form,"redirect",o)},expression:"form.redirect"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"component"}},[t("el-input",{model:{value:e.form.component,callback:function(o){e.$set(e.form,"component",o)},expression:"form.component"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"模块状态",prop:"modulestatus"}},[t("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-text":"启用"},model:{value:e.form.modulestatus,callback:function(o){e.$set(e.form,"modulestatus",o)},expression:"form.modulestatus"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.onCloseDialog}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1)],1):e._e()},staticRenderFns:[]};var c=t("VU/8")(d,s,!1,function(e){t("NonO")},"data-v-48ae002c",null);o.default=c.exports}});
//# sourceMappingURL=6.28dfe5026633e1eb5530.js.map